<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Place Picker Widget - Google Places API</title>
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <!--external styles-->
    <link rel="stylesheet" href="external/bootstrap-4.1.3/css/bootstrap.min.css">

    <!--override style-->
    <style type="text/css">.pac-icon { background-image: url('img/icons/geocode.png') !important; }</style>

    <!--custom styles-->
    <link rel="stylesheet" href="styles.css">

</head>
<body>

<div class="places-service"></div>

<div class="card">
    <div class="card-body">
        <div class="">

            <div class="form-group">
                <div class="form-text">
                    <label for="pickupLocation" class="">Pick-up location</label>
                </div>
                <div class="location-input-wrapper">
                    <input type="text" id="pickupLocation"
                           placeholder="airport, hotel name, railway station, street address..."
                           value=""
                           class="form-control">
                </div>
            </div>

            <div class="form-group">
                <div class="form-text">
                    <label for="dropoffLocation" class="">Drop-off location</label>
                </div>
                <div class="location-input-wrapper">
                    <input type="text" id="dropoffLocation"
                           placeholder="airport, hotel name, railway station, street address..."
                           value=""
                           class="form-control">
                </div>
            </div>

            <div class="mt-5">
                <button id="search-btn" class="btn btn-lg btn-success btn-block">Search</button>
            </div>
        </div>
    </div>
</div>

<!--js scripts-->
<script type="text/javascript" src="external/jquery-2.2.4/jquery.min.js"></script>
<script type="text/javascript" src="external/bootstrap-4.1.3/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCaAecBqyUDID2RvaumspGcK_mdhe1adms&libraries=places&language=it"></script>
<script>

</script>
<script type="text/javascript" src="widget.js"></script>
<script>
    new PickDropWidget({
        pickupInputId: 'pickupLocation',
        dropoffInputId: 'dropoffLocation',
        submitBtnId: 'search-btn',

        onSubmit: function (pickup_Place, dropoff_Place, event) {
            if (pickup_Place && dropoff_Place) {
                alert("https://www.placeholde.biz/search?" + $.param({
                    from_type: 'geo',
                    to_type: 'geo',

                    pickupName: pickup_Place.name,
                    pickupLatitude: pickup_Place.geometry.location.lat(),
                    pickupLongitude: pickup_Place.geometry.location.lng(),

                    dropoffName: dropoff_Place.name,
                    dropoffLatitude: dropoff_Place.geometry.location.lat(),
                    dropoffLongitude: dropoff_Place.geometry.location.lng()
                }));

            } else {
                alert("Please choose both valid locations");
            }
        },

        onError: function (error) {
            alert(error);
        }
    });
</script>

</body>
</html>
